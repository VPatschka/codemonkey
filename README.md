# Codemonkey tool

## Description
Prototype tool to generate files from vague description using ChatGPT\
Can generate multiple or single files (generated by parts) from Swagger\
Can rewrite one file into another\
The code is not very clear now as it was written in a hurry, but it works

## Usage
Add your OpenAI key to .env file

Create file with [name].codemonkey.ts where you define your prompts and other variables
according to SwaggerModuleConfiguration or RefactoringModuleConfiguration in generated/index.ts\
Then you'll use the [name] for the "generate" command

Your codemonkey files has to be in folder defined in codemonkey.json

## Commands
### Generate files
```bash
npm run generate -- [name]
```

You can try running examples in app/Data/Sovren folder\
The <name> doesn't have to containt file path

### Check which codemonkey files can the scripts see
```bash
npm run check
```

### Prepare .jsonl file for finetuning :warning: hard-coded for completeToSwagger folder
```bash
npm run tuning
```

To use the finetuned model, you have to change the model name in .codemonkey.ts file \
You need to have the finetuned model in your OpenAI account (won't work with other peoples' models)

## Legacy command
Hard-coded to generate files from unstructured sovren response (not swagger) \
Very simple, one file solution, can be used to learn how the tool works \
Uses pre-analysis step to get list of files to generate

It also counts the tokens and computes the cost, but it does not match to the actual cost,
 so should be ignore (also the variables are obsolete now)

If you want to use it, you should use new models like 'gpt-4-1106-preview' or 'gpt-3.5-turbo-1106' (gpt-3.5 is not smart enought to generate good results from this)

```bash
npm run legacy
```
